var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function c(e){e.forEach(t)}function r(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function i(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function f(){return u(" ")}function d(){return u("")}function p(e,t,n,c){return e.addEventListener(t,n,c),()=>e.removeEventListener(t,n,c)}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function v(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function g(e,t){e.value=null==t?"":t}function m(e,t,n){e.classList[n?"add":"remove"](t)}let $;function _(e){$=e}function k(){if(!$)throw new Error("Function called outside component initialization");return $}function b(){const e=k();return(t,n)=>{const c=e.$$.callbacks[t];if(c){const r=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);c.slice().forEach((t=>{t.call(e,r)}))}}}const y=[],j=[],w=[],x=[],L=Promise.resolve();let E=!1;function S(e){w.push(e)}let M=!1;const R=new Set;function U(){if(!M){M=!0;do{for(let e=0;e<y.length;e+=1){const t=y[e];_(t),C(t.$$)}for(_(null),y.length=0;j.length;)j.pop()();for(let e=0;e<w.length;e+=1){const t=w[e];R.has(t)||(R.add(t),t())}w.length=0}while(y.length);for(;x.length;)x.pop()();E=!1,M=!1,R.clear()}}function C(e){if(null!==e.fragment){e.update(),c(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(S)}}const T=new Set;let O;function B(){O={r:0,c:[],p:O}}function N(){O.r||c(O.c),O=O.p}function A(e,t){e&&e.i&&(T.delete(e),e.i(t))}function q(e,t,n,c){if(e&&e.o){if(T.has(e))return;T.add(e),O.c.push((()=>{T.delete(e),c&&(n&&e.d(1),c())})),e.o(t)}}function z(e,t){e.d(1),t.delete(e.key)}function P(e,t){q(e,1,1,(()=>{t.delete(e.key)}))}function F(e,t,n,c,r,s,o,l,a,i,u,f){let d=e.length,p=s.length,h=d;const v={};for(;h--;)v[e[h].key]=h;const g=[],m=new Map,$=new Map;for(h=p;h--;){const e=f(r,s,h),l=n(e);let a=o.get(l);a?c&&a.p(e,t):(a=i(l,e),a.c()),m.set(l,g[h]=a),l in v&&$.set(l,Math.abs(h-v[l]))}const _=new Set,k=new Set;function b(e){A(e,1),e.m(l,u),o.set(e.key,e),u=e.first,p--}for(;d&&p;){const t=g[p-1],n=e[d-1],c=t.key,r=n.key;t===n?(u=t.first,d--,p--):m.has(r)?!o.has(c)||_.has(c)?b(t):k.has(r)?d--:$.get(c)>$.get(r)?(k.add(c),b(t)):(_.add(r),d--):(a(n,o),d--)}for(;d--;){const t=e[d];m.has(t.key)||a(t,o)}for(;p;)b(g[p-1]);return g}function D(e){e&&e.c()}function G(e,n,s){const{fragment:o,on_mount:l,on_destroy:a,after_update:i}=e.$$;o&&o.m(n,s),S((()=>{const n=l.map(t).filter(r);a?a.push(...n):c(n),e.$$.on_mount=[]})),i.forEach(S)}function H(e,t){const n=e.$$;null!==n.fragment&&(c(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function I(e,t){-1===e.$$.dirty[0]&&(y.push(e),E||(E=!0,L.then(U)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function J(t,r,s,o,l,i,u=[-1]){const f=$;_(t);const d=r.props||{},p=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let h=!1;if(p.ctx=s?s(t,d,((e,n,...c)=>{const r=c.length?c[0]:n;return p.ctx&&l(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),h&&I(t,e)),n})):[],p.update(),h=!0,c(p.before_update),p.fragment=!!o&&o(p.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);p.fragment&&p.fragment.l(e),e.forEach(a)}else p.fragment&&p.fragment.c();r.intro&&A(t.$$.fragment),G(t,r.target,r.anchor),U()}_(f)}class K{$destroy(){H(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Q(t){let n,r,s,u;return{c(){n=i("div"),r=i("input"),h(r,"type","search"),h(r,"class","search__input svelte-v1c37i"),h(r,"placeholder","Search"),r.autofocus="autofocus",h(n,"class","search svelte-v1c37i")},m(e,c){l(e,n,c),o(n,r),g(r,t[0]),s||(u=[p(r,"input",t[2]),p(r,"input",t[1])],s=!0)},p(e,[t]){1&t&&g(r,e[0])},i:e,o:e,d(e){e&&a(n),s=!1,c(u)}}}function V(e,t,n){let c="";const r=b();return[c,function(){r("change",{value:c})},function(){c=this.value,n(0,c)}]}class W extends K{constructor(e){super(),J(this,e,V,Q,s,{})}}function X(e,t,n){const c=e.slice();return c[8]=t[n],c[10]=n,c}function Y(e){let t,n,r,s,u,d;return{c(){t=i("label"),n=i("input"),r=f(),s=i("span"),s.textContent="Все",h(n,"type","radio"),h(n,"class","tag__radio svelte-vjkj6"),n.__value="all",n.value=n.__value,e[4][0].push(n),h(s,"class","tag__name"),h(t,"class","tag tag_name_all svelte-vjkj6"),m(t,"active","all"===e[1])},m(c,a){l(c,t,a),o(t,n),n.checked=n.__value===e[1],o(t,r),o(t,s),u||(d=[p(n,"change",e[3]),p(n,"change",e[2])],u=!0)},p(e,c){2&c&&(n.checked=n.__value===e[1]),2&c&&m(t,"active","all"===e[1])},d(r){r&&a(t),e[4][0].splice(e[4][0].indexOf(n),1),u=!1,c(d)}}}function Z(t){let n;return{c(){n=i("div"),n.textContent="Loading Tags...",h(n,"class","tags__loading svelte-vjkj6")},m(e,t){l(e,n,t)},p:e,d(e){e&&a(n)}}}function ee(e){let t,n=[],c=new Map,r=e[0];const s=e=>e[8].value;for(let t=0;t<r.length;t+=1){let o=X(e,r,t),l=s(o);c.set(l,n[t]=te(l,o))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=d()},m(e,c){for(let t=0;t<n.length;t+=1)n[t].m(e,c);l(e,t,c)},p(e,r){if(7&r){const o=e[0];n=F(n,r,s,1,e,o,c,t.parentNode,z,te,t,X)}},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&a(t)}}}function te(e,t){let n,r,s,d,g,$,_,k,b,y=t[8].label+"";return{key:e,first:null,c(){n=i("label"),r=i("input"),d=f(),g=i("span"),$=u(y),_=f(),h(r,"type","radio"),h(r,"class","tag__radio svelte-vjkj6"),r.__value=s=t[8].value,r.value=r.__value,t[4][0].push(r),h(g,"class","tag__name"),h(n,"class","tag svelte-vjkj6"),m(n,"active",t[8].value===t[1]),this.first=n},m(e,c){l(e,n,c),o(n,r),r.checked=r.__value===t[1],o(n,d),o(n,g),o(g,$),o(n,_),k||(b=[p(r,"change",t[5]),p(r,"change",t[2])],k=!0)},p(e,t){1&t&&s!==(s=e[8].value)&&(r.__value=s,r.value=r.__value),2&t&&(r.checked=r.__value===e[1]),1&t&&y!==(y=e[8].label+"")&&v($,y),3&t&&m(n,"active",e[8].value===e[1])},d(e){e&&a(n),t[4][0].splice(t[4][0].indexOf(r),1),k=!1,c(b)}}}function ne(t){let n,c,r=t[0].length>0&&Y(t);function s(e,t){return e[0].length>0?ee:Z}let u=s(t),d=u(t);return{c(){n=i("div"),r&&r.c(),c=f(),d.c(),h(n,"class","tags svelte-vjkj6")},m(e,t){l(e,n,t),r&&r.m(n,null),o(n,c),d.m(n,null)},p(e,[t]){e[0].length>0?r?r.p(e,t):(r=Y(e),r.c(),r.m(n,c)):r&&(r.d(1),r=null),u===(u=s(e))&&d?d.p(e,t):(d.d(1),d=u(e),d&&(d.c(),d.m(n,null)))},i:e,o:e,d(e){e&&a(n),r&&r.d(),d.d()}}}function ce(e,t,n){let{tags:c=[]}=t,r="all";const s=b();return e.$$set=e=>{"tags"in e&&n(0,c=e.tags)},[c,r,function(){s("change",{value:c.reduce(((e,t)=>(e[t.value]=t.value===r,e)),{})})},function(){r=this.__value,n(1,r)},[[]],function(){r=this.__value,n(1,r)}]}class re extends K{constructor(e){super(),J(this,e,ce,ne,s,{tags:0})}}function se(t){let n;return{c(){n=i("span"),h(n,"class","icon__empty svelte-a476nr")},m(e,t){l(e,n,t)},p:e,d(e){e&&a(n)}}}function oe(t){let n,c;return{c(){n=i("img"),h(n,"class","icon__image"),n.src!==(c=t[1])&&h(n,"src",c),h(n,"alt","")},m(e,t){l(e,n,t)},p:e,d(e){e&&a(n)}}}function le(t){let n;return{c(){n=i("span"),h(n,"class","icon__loading svelte-a476nr")},m(e,t){l(e,n,t)},p:e,d(e){e&&a(n)}}}function ae(t){let n,c,r,s={ctx:t,current:null,token:null,hasCatch:!0,pending:le,then:oe,catch:se,value:1,error:3};return function(e,t){const n=t.token={};function c(e,c,r,s){if(t.token!==n)return;t.resolved=s;let o=t.ctx;void 0!==r&&(o=o.slice(),o[r]=s);const l=e&&(t.current=e)(o);let a=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==c&&e&&(B(),q(e,1,1,(()=>{t.blocks[n]=null})),N())})):t.block.d(1),l.c(),A(l,1),l.m(t.mount(),t.anchor),a=!0),t.block=l,t.blocks&&(t.blocks[c]=l),a&&U()}if((r=e)&&"object"==typeof r&&"function"==typeof r.then){const n=k();if(e.then((e=>{_(n),c(t.then,1,t.value,e),_(null)}),(e=>{if(_(n),c(t.catch,2,t.error,e),_(null),!t.hasCatch)throw e})),t.current!==t.pending)return c(t.pending,0),!0}else{if(t.current!==t.then)return c(t.then,1,t.value,e),!0;t.resolved=e}var r}(c=t[2],s),{c(){n=i("div"),s.block.c(),h(n,"class",r="icon "+t[0]+" svelte-a476nr")},m(e,t){l(e,n,t),s.block.m(n,s.anchor=null),s.mount=()=>n,s.anchor=null},p(e,[c]){{const n=(t=e).slice();n[1]=n[3]=s.resolved,s.block.p(n,c)}1&c&&r!==(r="icon "+t[0]+" svelte-a476nr")&&h(n,"class",r)},i:e,o:e,d(e){e&&a(n),s.block.d(),s.token=null,s=null}}}function ie(e,t,n){let{url:c}=t,{class:r}=t,s=(o=c,new Promise(((e,t)=>{null!==o?fetch(o).then((n=>{n.ok?e(o):t()})).catch((()=>t())):t()})));var o;return e.$$set=e=>{"url"in e&&n(1,c=e.url),"class"in e&&n(0,r=e.class)},[r,c,s]}class ue extends K{constructor(e){super(),J(this,e,ie,ae,s,{url:1,class:0})}}function fe(e,t,n){const c=e.slice();return c[7]=t[n],c[9]=n,c}function de(t){let n;return{c(){n=i("div"),n.textContent="Loading Services...",h(n,"class","services__loading svelte-28j6rd")},m(e,t){l(e,n,t)},p:e,i:e,o:e,d(e){e&&a(n)}}}function pe(e){let t,n,c=[],r=new Map,s=e[0];const o=e=>e[7].id;for(let t=0;t<s.length;t+=1){let n=fe(e,s,t),l=o(n);r.set(l,c[t]=he(l,n))}return{c(){for(let e=0;e<c.length;e+=1)c[e].c();t=d()},m(e,r){for(let t=0;t<c.length;t+=1)c[t].m(e,r);l(e,t,r),n=!0},p(e,n){if(1&n){const s=e[0];B(),c=F(c,n,o,1,e,s,r,t.parentNode,P,he,t,fe),N()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)A(c[e]);n=!0}},o(e){for(let e=0;e<c.length;e+=1)q(c[e]);n=!1},d(e){for(let t=0;t<c.length;t+=1)c[t].d(e);e&&a(t)}}}function he(e,t){let n,c,r,s,d,p,g,$,_,k,b,y,j,w,x,L,E,S=t[7].name+"",M=t[7].desc+"";return s=new ue({props:{class:"service__icon",url:t[7].icon}}),{key:e,first:null,c(){n=i("div"),c=i("a"),r=i("figure"),D(s.$$.fragment),d=f(),p=i("h2"),g=u(S),$=f(),_=i("div"),k=u(M),y=f(),j=i("a"),w=u("Исходный код"),L=f(),h(r,"class","service__icon-placeholder svelte-28j6rd"),h(p,"class","service__name svelte-28j6rd"),h(_,"class","service__description svelte-28j6rd"),h(c,"class","service__link svelte-28j6rd"),h(c,"href",b=t[7].href),h(j,"class","service__source-link svelte-28j6rd"),h(j,"href",x=t[7].source),h(j,"tabindex","-1"),h(n,"class","service svelte-28j6rd"),m(n,"popular",t[7].popular),this.first=n},m(e,t){l(e,n,t),o(n,c),o(c,r),G(s,r,null),o(c,d),o(c,p),o(p,g),o(c,$),o(c,_),o(_,k),o(n,y),o(n,j),o(j,w),o(n,L),E=!0},p(e,t){const r={};1&t&&(r.url=e[7].icon),s.$set(r),(!E||1&t)&&S!==(S=e[7].name+"")&&v(g,S),(!E||1&t)&&M!==(M=e[7].desc+"")&&v(k,M),(!E||1&t&&b!==(b=e[7].href))&&h(c,"href",b),(!E||1&t&&x!==(x=e[7].source))&&h(j,"href",x),1&t&&m(n,"popular",e[7].popular)},i(e){E||(A(s.$$.fragment,e),E=!0)},o(e){q(s.$$.fragment,e),E=!1},d(e){e&&a(n),H(s)}}}function ve(e){let t,n,c,r;const s=[pe,de],o=[];function u(e,t){return e[0]?0:1}return n=u(e),c=o[n]=s[n](e),{c(){t=i("div"),c.c(),h(t,"class","services svelte-28j6rd")},m(e,c){l(e,t,c),o[n].m(t,null),r=!0},p(e,[r]){let l=n;n=u(e),n===l?o[n].p(e,r):(B(),q(o[l],1,1,(()=>{o[l]=null})),N(),c=o[n],c||(c=o[n]=s[n](e),c.c()),A(c,1),c.m(t,null))},i(e){r||(A(c),r=!0)},o(e){q(c),r=!1},d(e){e&&a(t),o[n].d()}}}function ge(e){return!e}function me(e,t,n){let c,{activeTagsMap:r}=t,{services:s=[]}=t,{search:o}=t;function l(e){return e.tags.some((e=>!0===r[e]))}return e.$$set=e=>{"activeTagsMap"in e&&n(1,r=e.activeTagsMap),"services"in e&&n(2,s=e.services),"search"in e&&n(3,o=e.search)},e.$$.update=()=>{14&e.$$.dirty&&n(0,c=function(e,t,n){const c=Object.values(t).every(ge);if(c&&""===n)return e;let r=e;if(!1===c&&(r=e.filter(l)),""!==n){const e=n.split("").join(".*"),t=new RegExp(e,"i");r=r.filter((e=>t.test(e.name)))}return r}(s,r,o))},[c,r,s,o]}class $e extends K{constructor(e){super(),J(this,e,me,ve,s,{activeTagsMap:1,services:2,search:3})}}function _e(e){return e.map((e=>{const t=e.href.replace(/github\.io/,"com");return{...e,href:t,icon:e.icon?`${t}${e.icon}`:null}}))}function ke(e){return!0!==e.disabled}function be(e){return e.filter(ke)}function ye(e){return Object.entries(e).reduce(((e,[t,n])=>(e.push({label:n,value:t}),e)),[])}function je(e){let t,n,c,r,s,u,d;return n=new W({props:{search:e[2]}}),n.$on("change",e[4]),r=new re({props:{tags:e[1]}}),r.$on("change",e[5]),u=new $e({props:{services:e[0],activeTagsMap:e[3],search:e[2]}}),{c(){t=i("section"),D(n.$$.fragment),c=f(),D(r.$$.fragment),s=f(),D(u.$$.fragment),h(t,"class","services-container")},m(e,a){l(e,t,a),G(n,t,null),o(t,c),G(r,t,null),o(t,s),G(u,t,null),d=!0},p(e,[t]){const c={};4&t&&(c.search=e[2]),n.$set(c);const s={};2&t&&(s.tags=e[1]),r.$set(s);const o={};1&t&&(o.services=e[0]),8&t&&(o.activeTagsMap=e[3]),4&t&&(o.search=e[2]),u.$set(o)},i(e){d||(A(n.$$.fragment,e),A(r.$$.fragment,e),A(u.$$.fragment,e),d=!0)},o(e){q(n.$$.fragment,e),q(r.$$.fragment,e),q(u.$$.fragment,e),d=!1},d(e){e&&a(t),H(n),H(r),H(u)}}}function we(e,t,n){let{servicesURL:c}=t,{tagsURL:r}=t,{servicesBlackList:s}=t,{popularServices:o}=t;const l=new Set(o);let a=[],i=[],u="";function f(e){return!s.includes(e.id)}function d(e){return{...e,popular:l.has(e.id)}}var p;p=async()=>{const e=await(t=c,fetch(t).then((e=>e.json())).then(_e).then(be));var t;n(0,a=e.filter(f).map(d));const s=await function(e){return fetch(e).then((e=>e.json())).then(ye)}(r),o=function(e){const t=new Set;return e.forEach((e=>{e.tags.forEach((e=>{t.add(e)}))})),t}(a);n(1,i=s.filter((e=>o.has(e.value))))},k().$$.on_mount.push(p);let h={};return e.$$set=e=>{"servicesURL"in e&&n(6,c=e.servicesURL),"tagsURL"in e&&n(7,r=e.tagsURL),"servicesBlackList"in e&&n(8,s=e.servicesBlackList),"popularServices"in e&&n(9,o=e.popularServices)},[a,i,u,h,function({detail:{value:e}}){n(2,u=e)},function({detail:{value:e}}){n(3,h=e)},c,r,s,o]}const xe="https://vovanr.com/services-json";return new class extends K{constructor(e){super(),J(this,e,we,je,s,{servicesURL:6,tagsURL:7,servicesBlackList:8,popularServices:9})}}({target:document.querySelector("#services-app-container"),props:{servicesURL:xe+"/dist/services.json",tagsURL:xe+"/src/tags.json",servicesBlackList:["notes"],popularServices:["dozed-off","from-date-to-date","when-to-go-from-work","time-calculator"]}})}();
//# sourceMappingURL=bundle.js.map

var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function c(e){e.forEach(t)}function s(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t){e.appendChild(t)}function o(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function u(e){return document.createElement(e)}function i(e){return document.createTextNode(e)}function f(){return i(" ")}function d(e,t,n,c){return e.addEventListener(t,n,c),()=>e.removeEventListener(t,n,c)}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function h(e,t){t=""+t,e.data!==t&&(e.data=t)}function g(e,t,n){e.classList[n?"add":"remove"](t)}let p;function m(e){p=e}function _(){if(!p)throw new Error("Function called outside component initialization");return p}function $(){const e=_();return(t,n)=>{const c=e.$$.callbacks[t];if(c){const s=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);c.slice().forEach(t=>{t.call(e,s)})}}}const k=[],b=[],y=[],j=[],x=Promise.resolve();let w=!1;function L(e){y.push(e)}function E(){const e=new Set;do{for(;k.length;){const e=k.shift();m(e),M(e.$$)}for(;b.length;)b.pop()();for(let t=0;t<y.length;t+=1){const n=y[t];e.has(n)||(n(),e.add(n))}y.length=0}while(k.length);for(;j.length;)j.pop()();w=!1}function M(e){if(null!==e.fragment){e.update(),c(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(L)}}const q=new Set;let R;function U(){R={r:0,c:[],p:R}}function T(){R.r||c(R.c),R=R.p}function C(e,t){e&&e.i&&(q.delete(e),e.i(t))}function S(e,t,n,c){if(e&&e.o){if(q.has(e))return;q.add(e),R.c.push(()=>{q.delete(e),c&&(n&&e.d(1),c())}),e.o(t)}}function B(e,t){e.d(1),t.delete(e.key)}function O(e,t){S(e,1,1,()=>{t.delete(e.key)})}function A(e,t,n,c,s,r,l,o,a,u,i,f){let d=e.length,v=r.length,h=d;const g={};for(;h--;)g[e[h].key]=h;const p=[],m=new Map,_=new Map;for(h=v;h--;){const e=f(s,r,h),o=n(e);let a=l.get(o);a?c&&a.p(e,t):(a=u(o,e),a.c()),m.set(o,p[h]=a),o in g&&_.set(o,Math.abs(h-g[o]))}const $=new Set,k=new Set;function b(e){C(e,1),e.m(o,i),l.set(e.key,e),i=e.first,v--}for(;d&&v;){const t=p[v-1],n=e[d-1],c=t.key,s=n.key;t===n?(i=t.first,d--,v--):m.has(s)?!l.has(c)||$.has(c)?b(t):k.has(s)?d--:_.get(c)>_.get(s)?(k.add(c),b(t)):($.add(s),d--):(a(n,l),d--)}for(;d--;){const t=e[d];m.has(t.key)||a(t,l)}for(;v;)b(p[v-1]);return p}function N(e){e&&e.c()}function P(e,n,r){const{fragment:l,on_mount:o,on_destroy:a,after_update:u}=e.$$;l&&l.m(n,r),L(()=>{const n=o.map(t).filter(s);a?a.push(...n):c(n),e.$$.on_mount=[]}),u.forEach(L)}function z(e,t){const n=e.$$;null!==n.fragment&&(c(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function F(e,t){-1===e.$$.dirty[0]&&(k.push(e),w||(w=!0,x.then(E)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function D(t,s,r,l,o,a,u=[-1]){const i=p;m(t);const f=s.props||{},d=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:o,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(i?i.$$.context:[]),callbacks:n(),dirty:u};let v=!1;d.ctx=r?r(t,f,(e,n,...c)=>{const s=c.length?c[0]:n;return d.ctx&&o(d.ctx[e],d.ctx[e]=s)&&(d.bound[e]&&d.bound[e](s),v&&F(t,e)),n}):[],d.update(),v=!0,c(d.before_update),d.fragment=!!l&&l(d.ctx),s.target&&(s.hydrate?d.fragment&&d.fragment.l(function(e){return Array.from(e.childNodes)}(s.target)):d.fragment&&d.fragment.c(),s.intro&&C(t.$$.fragment),P(t,s.target,s.anchor),E()),m(i)}class G{$destroy(){z(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function H(e,t,n){const c=e.slice();return c[8]=t[n],c}function I(e){let t,n,s,r,i;return{c(){t=u("label"),n=u("input"),s=f(),r=u("span"),r.textContent="Все",v(n,"type","radio"),v(n,"class","tag__radio svelte-vjkj6"),n.__value="all",n.value=n.__value,e[6][0].push(n),v(r,"class","tag__name"),v(t,"class","tag tag_name_all svelte-vjkj6"),g(t,"active","all"===e[1])},m(c,a){o(c,t,a),l(t,n),n.checked=n.__value===e[1],l(t,s),l(t,r),i=[d(n,"change",e[5]),d(n,"change",e[2])]},p(e,c){2&c&&(n.checked=n.__value===e[1]),2&c&&g(t,"active","all"===e[1])},d(s){s&&a(t),e[6][0].splice(e[6][0].indexOf(n),1),c(i)}}}function J(e){let t;return{c(){t=u("div"),t.textContent="Loading Tags...\n    ",v(t,"class","tags__loading svelte-vjkj6")},m(e,n){o(e,t,n)},d(e){e&&a(t)}}}function K(e,t){let n,s,r,p,m,_,$,k,b=t[8].label+"";return{key:e,first:null,c(){n=u("label"),s=u("input"),p=f(),m=u("span"),_=i(b),$=f(),v(s,"type","radio"),v(s,"class","tag__radio svelte-vjkj6"),s.__value=r=t[8].value,s.value=s.__value,t[6][0].push(s),v(m,"class","tag__name"),v(n,"class","tag svelte-vjkj6"),g(n,"active",t[8].value===t[1]),this.first=n},m(e,c){o(e,n,c),l(n,s),s.checked=s.__value===t[1],l(n,p),l(n,m),l(m,_),l(n,$),k=[d(s,"change",t[7]),d(s,"change",t[2])]},p(e,t){1&t&&r!==(r=e[8].value)&&(s.__value=r),s.value=s.__value,2&t&&(s.checked=s.__value===e[1]),1&t&&b!==(b=e[8].label+"")&&h(_,b),3&t&&g(n,"active",e[8].value===e[1])},d(e){e&&a(n),t[6][0].splice(t[6][0].indexOf(s),1),c(k)}}}function Q(t){let n,c,s=[],r=new Map,i=t[0].length>0&&I(t),d=t[0];const h=e=>e[8].value;for(let e=0;e<d.length;e+=1){let n=H(t,d,e),c=h(n);r.set(c,s[e]=K(c,n))}let g=null;return d.length||(g=J()),{c(){n=u("div"),i&&i.c(),c=f();for(let e=0;e<s.length;e+=1)s[e].c();g&&g.c(),v(n,"class","tags svelte-vjkj6")},m(e,t){o(e,n,t),i&&i.m(n,null),l(n,c);for(let e=0;e<s.length;e+=1)s[e].m(n,null);g&&g.m(n,null)},p(e,[t]){e[0].length>0?i?i.p(e,t):(i=I(e),i.c(),i.m(n,c)):i&&(i.d(1),i=null);const l=e[0];s=A(s,t,h,1,e,l,r,n,B,K,null,H),l.length?g&&(g.d(1),g=null):g||(g=J(),g.c(),g.m(n,null))},i:e,o:e,d(e){e&&a(n),i&&i.d();for(let e=0;e<s.length;e+=1)s[e].d();g&&g.d()}}}function V(e,t,n){let{tags:c=[]}=t,s="all";const r=$();function l(){return c.reduce((e,t)=>(e[t.value]=t.value===s,e),{})}return e.$set=e=>{"tags"in e&&n(0,c=e.tags)},[c,s,function(){r("change",{value:l()})},r,l,function(){s=this.__value,n(1,s)},[[]],function(){s=this.__value,n(1,s)}]}class W extends G{constructor(e){super(),D(this,e,V,Q,r,{tags:0})}}function X(t){let n;return{c(){n=u("span"),v(n,"class","icon__empty svelte-a476nr")},m(e,t){o(e,n,t)},p:e,d(e){e&&a(n)}}}function Y(e){let t,n;return{c(){t=u("img"),v(t,"class","icon__image"),t.src!==(n=e[0])&&v(t,"src",n),v(t,"alt","")},m(e,n){o(e,t,n)},p(e,c){1&c&&t.src!==(n=e[0])&&v(t,"src",n)},d(e){e&&a(t)}}}function Z(t){let n;return{c(){n=u("span"),v(n,"class","icon__loading svelte-a476nr")},m(e,t){o(e,n,t)},p:e,d(e){e&&a(n)}}}function ee(t){let n,c,s={ctx:t,current:null,token:null,pending:Z,then:Y,catch:X};return function(e,t){const n=t.token={};function c(e,c,s,r){if(t.token!==n)return;t.resolved=r;let l=t.ctx;void 0!==s&&(l=l.slice(),l[s]=r);const o=e&&(t.current=e)(l);let a=!1;t.block&&(t.blocks?t.blocks.forEach((e,n)=>{n!==c&&e&&(U(),S(e,1,1,()=>{t.blocks[n]=null}),T())}):t.block.d(1),o.c(),C(o,1),o.m(t.mount(),t.anchor),a=!0),t.block=o,t.blocks&&(t.blocks[c]=o),a&&E()}if((s=e)&&"object"==typeof s&&"function"==typeof s.then){const n=_();if(e.then(e=>{m(n),c(t.then,1,t.value,e),m(null)},e=>{m(n),c(t.catch,2,t.error,e),m(null)}),t.current!==t.pending)return c(t.pending,0),!0}else{if(t.current!==t.then)return c(t.then,1,t.value,e),!0;t.resolved=e}var s}(c=t[1],s),{c(){n=u("div"),s.block.c(),v(n,"class","icon")},m(e,t){o(e,n,t),s.block.m(n,s.anchor=null),s.mount=()=>n,s.anchor=null},p(e,[n]){{const c=(t=e).slice();s.block.p(c,n)}},i:e,o:e,d(e){e&&a(n),s.block.d(),s.token=null,s=null}}}function te(e,t,n){let{url:c}=t,s=(r=c,new Promise((e,t)=>{null!==r?fetch(r).then(n=>{n.ok?e():t()}).catch(()=>t()):t()}));var r;return e.$set=e=>{"url"in e&&n(0,c=e.url)},[c,s]}class ne extends G{constructor(e){super(),D(this,e,te,ee,r,{url:0})}}function ce(e,t,n){const c=e.slice();return c[5]=t[n],c}function se(e){let t;return{c(){t=u("div"),t.textContent="Loading Services...\n    ",v(t,"class","services__loading svelte-9uq140")},m(e,n){o(e,t,n)},d(e){e&&a(t)}}}function re(e,t){let n,c,s,r,d,g,p,m,_,$,k,b,y,j,x,w,L=t[5].name+"",E=t[5].desc+"";const M=new ne({props:{class:"service__icon",url:t[5].icon}});return{key:e,first:null,c(){n=u("div"),c=u("a"),s=u("figure"),N(M.$$.fragment),r=f(),d=u("h2"),g=i(L),p=f(),m=u("div"),_=i(E),k=f(),b=u("a"),y=i("Исходный код"),x=f(),v(s,"class","service__icon-placeholder svelte-9uq140"),v(d,"class","service__name svelte-9uq140"),v(m,"class","service__description svelte-9uq140"),v(c,"class","service__link svelte-9uq140"),v(c,"href",$=t[5].href),v(b,"class","service__source-link svelte-9uq140"),v(b,"href",j=t[5].source),v(n,"class","service svelte-9uq140"),this.first=n},m(e,t){o(e,n,t),l(n,c),l(c,s),P(M,s,null),l(c,r),l(c,d),l(d,g),l(c,p),l(c,m),l(m,_),l(n,k),l(n,b),l(b,y),l(n,x),w=!0},p(e,t){const n={};1&t&&(n.url=e[5].icon),M.$set(n),(!w||1&t)&&L!==(L=e[5].name+"")&&h(g,L),(!w||1&t)&&E!==(E=e[5].desc+"")&&h(_,E),(!w||1&t&&$!==($=e[5].href))&&v(c,"href",$),(!w||1&t&&j!==(j=e[5].source))&&v(b,"href",j)},i(e){w||(C(M.$$.fragment,e),w=!0)},o(e){S(M.$$.fragment,e),w=!1},d(e){e&&a(n),z(M)}}}function le(e){let t,n,c=[],s=new Map,r=e[1](e[0]);const l=e=>e[5].id;for(let t=0;t<r.length;t+=1){let n=ce(e,r,t),o=l(n);s.set(o,c[t]=re(o,n))}let i=null;return r.length||(i=se()),{c(){t=u("div");for(let e=0;e<c.length;e+=1)c[e].c();i&&i.c(),v(t,"class","services svelte-9uq140")},m(e,s){o(e,t,s);for(let e=0;e<c.length;e+=1)c[e].m(t,null);i&&i.m(t,null),n=!0},p(e,[n]){const r=e[1](e[0]);U(),c=A(c,n,l,1,e,r,s,t,O,re,null,ce),T(),r.length?i&&(i.d(1),i=null):i||(i=se(),i.c(),i.m(t,null))},i(e){if(!n){for(let e=0;e<r.length;e+=1)C(c[e]);n=!0}},o(e){for(let e=0;e<c.length;e+=1)S(c[e]);n=!1},d(e){e&&a(t);for(let e=0;e<c.length;e+=1)c[e].d();i&&i.d()}}}function oe(e){return!e}function ae(e,t,n){let{activeTagsMap:c}=t,{services:s=[]}=t;function r(e){return e.tags.some(e=>!0===c[e])}return e.$set=e=>{"activeTagsMap"in e&&n(2,c=e.activeTagsMap),"services"in e&&n(0,s=e.services)},[s,function(e){return Object.values(c).every(oe)?e:e.filter(r)},c]}class ue extends G{constructor(e){super(),D(this,e,ae,le,r,{activeTagsMap:2,services:0})}}function ie(e){return e.map(e=>{const t=e.href.replace(/github\.io/,"com");return{...e,href:t,icon:e.icon?`${t}${e.icon}`:null}})}function fe(e){return!0!==e.disabled}function de(e){return e.filter(fe)}function ve(e){return Object.entries(e).reduce((e,[t,n])=>(e.push({label:n,value:t}),e),[])}function he(e){let t,n,c;const s=new W({props:{tags:e[1]}});s.$on("change",e[3]);const r=new ue({props:{services:e[0],activeTagsMap:e[2]}});return{c(){t=u("section"),N(s.$$.fragment),n=f(),N(r.$$.fragment),v(t,"class","services-container")},m(e,a){o(e,t,a),P(s,t,null),l(t,n),P(r,t,null),c=!0},p(e,[t]){const n={};2&t&&(n.tags=e[1]),s.$set(n);const c={};1&t&&(c.services=e[0]),4&t&&(c.activeTagsMap=e[2]),r.$set(c)},i(e){c||(C(s.$$.fragment,e),C(r.$$.fragment,e),c=!0)},o(e){S(s.$$.fragment,e),S(r.$$.fragment,e),c=!1},d(e){e&&a(t),z(s),z(r)}}}function ge(e,t,n){let{servicesURL:c}=t,{tagsURL:s}=t,{servicesBlackList:r}=t,l=[],o=[];var a;a=async()=>{const e=await(t=c,fetch(t).then(e=>e.json()).then(ie).then(de));var t;n(0,l=e.filter(e=>!r.includes(e.id)));const a=await function(e){return fetch(e).then(e=>e.json()).then(ve)}(s),u=function(e){const t=new Set;return e.forEach(e=>{e.tags.forEach(e=>{t.add(e)})}),t}(l);n(1,o=a.filter(e=>u.has(e.value)))},_().$$.on_mount.push(a);let u={};return e.$set=e=>{"servicesURL"in e&&n(4,c=e.servicesURL),"tagsURL"in e&&n(5,s=e.tagsURL),"servicesBlackList"in e&&n(6,r=e.servicesBlackList)},[l,o,u,function({detail:{value:e}}){n(2,u=e)},c,s,r]}return new class extends G{constructor(e){super(),D(this,e,ge,he,r,{servicesURL:4,tagsURL:5,servicesBlackList:6})}}({target:document.querySelector("#services-app-container"),props:{servicesURL:"https://vovanr.com/services-json/dist/services.json",tagsURL:"https://vovanr.com/services-json/src/tags.json",servicesBlackList:["notes"]}})}();
//# sourceMappingURL=bundle.js.map
